# Menus for window buttons
# Usage:
#
# Mouse (mbutton#) (button#) (mod) Window-Button-Function (Button#) (menu) (function)
#
# Where:
# mbutton# - number of the mouse button (0 - all buttons, 1 - left button,
# 2 - middle button, 3 - right button)
# button# - number of the window title button, 0-9
# mod - modifier, see ~/.fvwm/functions/Keyboard-Modifiers
# Button# - number of the window title button, Button0-Button9
# menu - name of the menu opened on the mouse hold
# function - function executed after mouse click

# Wrapper functions for window decorations
DestroyFunc Window-MoveToPage-Forward
AddToFunc Window-MoveToPage-Forward
+ I MoveToPage-Right

DestroyFunc Window-MoveToPage-Backward
AddToFunc Window-MoveToPage-Backward
+ I MoveToPage-Left

DestroyFunc Window-WarpToPage-Forward
AddToFunc Window-WarpToPage-Forward
+ I WarpToPage-Right

DestroyFunc Window-WarpToPage-Backward
AddToFunc Window-WarpToPage-Backward
+ I WarpToPage-Left


DestroyFunc Window-Button-Function
AddToFunc Window-Button-Function
+ H Popup $1 $0 0 100
+ C $2 $3 $4 $5 $6 $7 $8 $9


DestroyMenu /Window-Menu-Close
AddToMenu /Window-Menu-Close
+ '$[gt.Iconify]'	Window-Iconify
+ '$[gt.Close]'		Close
+ '$[gt.Destroy]'	Destroy
+ "" Nop
+ '$[gt.Identify]'	FvwmIdent

DestroyMenu /Window-Menu-Maximize
AddToMenu /Window-Menu-Maximize
+ '$[gt.Maximize]'		Maximize
+ '$[gt.Maximize horizontally]'	Maximize 100 0
+ '$[gt.Maximize vertically]'	Maximize 0 100
+ "" Nop
+ '$[gt.Take all free space]'	Maximize grow grow
+ '$[gt.Take all horizontal space]'	Maximize grow 0
+ '$[gt.Take all vertical space]'	Maximize 0 grow
+ "" Nop
+ '$[gt.Fullscreen]'			Fullscreen

DestroyMenu /Window-Menu-Layer
AddToMenu /Window-Menu-Layer
+ '$[gt.Stay raised]'	Layer 0 5
+ '$[gt.Normal mode]'	Layer 0 4
+ '$[gt.Stay lowered]'	Layer 0 3
+ '$[gt.Stick]'		Stick
+ "" Nop
+ '$[gt.Refresh]'	RefreshWindow

DestroyMenu /Window-Menu-Page
AddToMenu /Window-Menu-Page
+ DynamicPopupAction Function /Window-Menu-Page-generator

DestroyFunc /Window-Menu-Page-generator
AddToFunc /Window-Menu-Page-generator
+ I DestroyMenu recreate /Window-Menu-Page
+ I AddToMenu /Window-Menu-Page '$[gt.Move to left page]'		Window-MoveToPage-Backward
+ I AddToMenu /Window-Menu-Page '$[gt.Move to previous page]'		MoveToPage-Focus prev
+ I AddToMenu /Window-Menu-Page '$[gt.Move to right page]'		Window-MoveToPage-Forward
+ I AddTomenu /Window-Menu-Page "" Nop
+ I AddToMenu /Window-Menu-Page '$[gt.Jump to left page]'		Window-WarpToPage-Backward
+ I AddToMenu /Window-Menu-Page '$[gt.Jump to previous page]'		WarpToPage prev
+ I AddToMenu /Window-Menu-Page '$[gt.Jump to right page]'		Window-WarpToPage-Forward
+ I AddToMenu /Window-Menu-Page "" Nop
+ I PipeRead 'for i in `seq 0 $(($[desk.pagesx]-1))` ; do echo "AddToMenu /Window-Menu-Page \'$[gt.Move to page] $(($i+1))\' MoveToPage $i 0" ; done'


# Combined version of menu for window styles other than FVWM-Crystal
DestroyMenu /Window-Menu
AddToMenu /Window-Menu
+ '$[gt.Iconify]'	Window-Iconify
+ '$[gt.Stick]'		Stick
+ '$[gt.Stay raised]'	Layer 0 5
+ '$[gt.Normal mode]'		Layer 0 4
+ '$[gt.Maximize]'		Maximize
+ '$[gt.Fullscreen]'		Fullscreen
+ "" Nop
+ '$[gt.Move to left page]'	Window-MoveToPage-Backward
+ '$[gt.Move to right page]'	Window-MoveToPage-Forward
+ "" Nop
+ '$[gt.Identify]'		FvwmIdent
+ '$[gt.Close]'			Close

# vim:ft=fvwm
