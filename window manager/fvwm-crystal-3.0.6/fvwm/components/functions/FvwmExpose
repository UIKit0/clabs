# Expose clone for FVWM
# Experimental code, needs improvement

DestroyFunc FvwmExpose-Action
AddToFunc FvwmExpose-Action
+ I WindowId $* Raise
+ I KillModule FvwmButtons FvwmExpose
 
 
DestroyFunc FvwmExpose
AddToFunc FvwmExpose
+ I DestroyModuleConfig FvwmExpose: *
#+ I PipeRead 'echo "*FvwmExpose: Geometry $[vp.width]x$[vp.height]+0+0"'
+ I PipeRead 'echo "*FvwmExpose: Geometry $(($[vp.width]-300))x$(($[vp.height]-300))+0+0"'
+ I *FvwmExpose: BoxSize Fixed
+ I *FvwmExpose: Colorset $[cs_panel_inactive]
+ I *FvwmExpose: ActiveColorset $[cs_panel_active]
+ I *FvwmExpose: Padding 4 4
+ I *FvwmExpose: Frame 0
+ I *FvwmExpose: Font "StringEncoding:UTF-8:xft:Verdana:pixelsize=13:encoding=iso10646-1"
+ I All (!Iconic, !FvwmMiniConsoleNeedsUniqueName, !Shaded, CurrentPage, AcceptsFocus) PipeRead \
    "echo Raise; xwd -silent -id $[w.id] > /tmp/icon.exp.$[w.id].xwd ; convert -scale 300 -quality 0 xwd:/tmp/icon.exp.$[w.id].xwd png:$[FVWM_USERDIR]/icon.exp.$[w.id].png && \
     echo '*FvwmExpose: (1x1, Title (Center) \"$[w.name]\", Icon $[FVWM_USERDIR]/icon.exp.$[w.id].png, Action FvwmExpose-Action $[w.id] )'"
+ I Module FvwmButtons FvwmExpose
+ I None (FvwmExpose) Wait
+ I All (FvwmExpose) Layer 0 6
+ I All (FvwmExpose) Raise
+ I Exec exec rm -f $[FVWM_USERDIR]/icon.exp.*

# vim:ft=fvwm
