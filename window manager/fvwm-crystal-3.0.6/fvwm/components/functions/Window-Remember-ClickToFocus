# Remember active window on each desktop
# Functions for Style * ClickToFocus
# ---------------------------------------

DestroyFunc Window-RememberFocused
AddToFunc Window-RememberFocused
+ I None (CurrentPage, AcceptsFocus) Break
+ I Current (!Iconified, !Sticky) All (CurrentPage) State 2 False
+ I Current (!Iconified) State 2 True

DestroyFunc Window-FocusRemembered
AddToFunc Window-FocusRemembered
+ I None (CurrentPage, AcceptsFocus) Break
+ I Current (Focused, Sticky, !CirculateHit) Break
+ I Next (CurrentPage, State 2) Focus
+ I None (CurrentPage, Focused) Prev (CurrentPage, !Iconified) Focus


DestroyModuleConfig FvwmEvent-Window-Remember: *
*FvwmEvent-Window-Remember: new_page Window-FocusRemembered
*FvwmEvent-Window-Remember: focus_change Window-RememberFocused
*FvwmEvent-Window-Remember: destroy_window Window-FocusRemembered

# OK, I know that it's stupid. It sucks. But, I don't know why, when I launch
# FvwmEvent only once, it doesn't keep focus on the QuakeConsole while desktop
# pages are changed. And when there are two FvwmEvent modules loaded, it does
# do that. If you will find a solution how to keep that effect without two
# copies of FvwmEvent, let me know.
Module FvwmEvent FvwmEvent-Window-Remember
Module FvwmEvent FvwmEvent-Window-Remember

# vim:ft=fvwm
