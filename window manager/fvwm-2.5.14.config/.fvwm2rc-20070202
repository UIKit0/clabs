#----------------------------------------------------------------
#								#
# FVWM F(?) Virtual Window Manager 2.5.14 Configuration		#
#		By ( mmx384@tom.com )				#
#								#
#----------------------------------------------------------------
#
# 修改颜色可对照：/usr/X11R6/lib/X11/rgb.txt
# 按键名称可参照：/usr/include/X11/keysymdef.h 
#
# 需进一步改善的功能:
# 	切换虚拟桌面时，在虚拟桌面上显示页号

#----------------------------------------------------------------
#

ImagePath $[HOME]/.fvwm/image

IgnoreModifiers L25
SnapAttraction 5
EdgeScroll 0 0
EdgeResistance 1000 0
EdgeThickness 1
ClickTime 200
HideGeometryWindow Always
MoveThreshold 3
OpaqueMoveSize 100
SnapGrid 1 1
#EwmhBaseStruts 0 0 0 0
#XORvalue 255


#-------------------- Style Setting -----------------------------

DefaultFont "-misc-simsun-medium-r-normal-*-*-160-*-*-p-*-iso10646-1"
#DefaultFont "shadow=0 0 xft:simsun:size=12:encoding=iso10646-1"

Style "*" SloppyFocus,MouseFocusClickRaises
#Style "*" ClickToFocus,ClickToFocusPassesClick
Style "*" CenterPlacement
Style "*" MwmFunctions,MWMBorder,MWMDecor,NoPPosition
Style "*" DecorateTransient


#Style "*" Colorset 3, HilightColorset 4
Style "*" ForeColor black, BackColor dodgerblue2
Style "*" HilightFore white, HilightBack dodgerblue
Style "*" NoIconTitle
Style "*" BorderWidth 2, HandleWidth 3
Style "FvwmButtons" NoTitle,NoHandles,WindowListSkip, \
			BorderWidth 0,CirculateSkipIcon,CirculateSkip
Style "FvwmIdent" NoTitle,NoHandles,BorderWidth 0

#Style "*" NoIcon
#Style "Fvwm*" StaysOnTop,Sticky


MenuStyle "*" MWM
#MenuStyle "*" FVWM
MenuStyle "*" Hilight3Doff, PopupOffset +0 100, PopupDelay 150
MenuStyle "*" Foreground Black, Background White
MenuStyle "*" ActiveFore Red
MenuStyle "*" MenuFace HGradient 128 2 lightgrey 0 Gray 50 White


Style "*" Button 1, Button 2, Button 3, Button 4, Button 6
#Style "*" MWMButtons
TitleStyle Centered Height 20
#TitleStyle -- flat
#ButtonStyle All -- UseTitleStyle flat

ButtonStyle 1 Pixmap buttons/menu.png
ButtonStyle 2 Pixmap buttons/close.png
ButtonStyle 4 Pixmap buttons/maximize.png
ButtonStyle 6 Pixmap buttons/iconify.png
ButtonStyle 3 5 25x75@0 25x25@0 50x70@0 75x25@0 75x75@0


CursorStyle Root left_ptr
CursorStyle Default left_ptr
CursorStyle Title left_ptr
#CursorStyle Sys left_ptr
CursorStyle Menu left_ptr
CursorStyle resize fleur
CursorStyle stroke cross
CursorStyle select draped_box

#Style "Untitled" NoTitle
Style "Emacs"	Icon 48x48/emacs.png
Style "urxvt"	Icon 48x48/rxvt.png
Style "xmms" 	Icon 48x48/xmms.png
Style "MPlayer" NoTitle,NoHandles,BorderWidth 0
Style "*vim" 	IconOverride, Icon 48x48/gvim.png
Style "GQview" 	IconOverride, Icon 48x48/gqview.png
Style "xclock" 	NoTitle,NoHandles,BorderWidth 0,StaysOnTop
Style "AcroRead" Icon 48x48/acroread.png,VariablePosition,VariableUSPosition
Style "*"	Icon 48x48/unknow.png
#Style "SWT"	Icon 48x48/azureus.png
#Style gvim EWMHMiniIconOverride,MiniIcon 16x16/gvim.png



DestroyMenu WindowOps
AddToMenu WindowOps
+	"MoveTo Page 0 0"	MoveToPage 0 0
+	"MoveTo Page 0 1"	MoveToPage 0 1
+	"MoveTo Page 0 2"	MoveToPage 0 2
+	"MoveTo Page 0 3"	MoveToPage 0 3
+	""			Nop
+	"Disable Close	"	Key F4 A A -
+	"Disable Super_L"	Key Super_L A A -
+	""			Nop
+	"Identify Window" 	Module FvwmIdent
+	"Stick"			Pick Stick
+	"Refresh"		Refresh
+	"Close Window"		Close
+	""			Nop
+	"Restart FVWM"		Restart fvwm


#--------------- Mouse & Key ------------------------------------

#CmdNameButton	Context	Modifiers Function
Mouse 	1 	R 	A 	Nop
Mouse 	3 	R 	A 	Nop
Mouse 	1 	I 	A 	Function IconicToWindow
Mouse	1	T	A	Function RaiseOrMaximize
Mouse	3	T	A	Iconify
Mouse 	4 	T 	A 	Function HideAndLower
Mouse 	5 	T 	A 	Function ShadeAndRaise
Mouse 	1 	1 	A 	Menu WindowOps Nop
Mouse	1	3	A	Exec rc music &>/dev/null
Mouse 	3 	3 	A 	Exec rc mlnet
Mouse 	1 	2 	A 	Close
Mouse 	1 	4 	A 	Maximize
#Mouse	1	4	A	Maximize 100 -20p
Mouse	1	6	A	Iconify
#Mouse	1	6	A	Thumbnail
Mouse 	4 	W 	A 	Current ("AcroRead") FakeKeypress \
				press Up \
				press Up 
Mouse 	5 	W 	A 	Current ("AcroRead") FakeKeypress \
				press Down \
				press Down 


#CmdNameKeyname	Context	Modifiers Function
#Key	Super_L	A	A	Menu RootMenu Nop
Key	F1	A	M	Module FvwmIdent
Key	Print	A	M	Exec import image$(date +%N).jpg 
Key	Left	A	CM	gotopage +0p -1p
Key	Right	A	CM	gotopage +0p +1p
Key	F4	A	M	Key F4 A A Close
Key	X	A	4	Function SuperR_X_ActionRunningCommand
Key	Super_L	A	A	Function SuperL_ActionTodoSomething



#----------------- Function -------------------------------------

DestroyFunc InitFunction
AddToFunc InitFunction
+	I	Exec fcitx &
+	I	Exec fvwm-root $[FVWM_USERDIR]/image/wallpaper0.png

DestroyFunc StartFunction
AddToFunc StartFunction
#+	I	Module FvwmAuto 320 Raise Nop
#+	I	$[HOME]/bin/xsetnumlock
+ 	I	Module FvwmButtons FvwmButtonsLaunch
+	I	Module FvwmAnimate

DestroyFunc ExitFunction
AddToFunc ExitFunction
+ 	I	KillModule FvwmButtons
+	I	KillModule FvwmAnimate


DestroyFunc IconicToWindow
AddToFunc IconicToWindow
+ "Click"	Iconify
+ "Click" 	WindowShade False

DestroyFunc RaiseOrMaximize
AddToFunc RaiseOrMaximize
+ "Click" 	Raise
+ "Motion" 	Move
+ "Motion" 	Raise
+ "DoubleClick" Raise
+ "DoubleClick" WindowShade False
+ "DoubleClick" Maximize
+	I	Mouse  3  T  A  Function MoveOrResizeWindow
+	I	Schedule  500    Mouse  3  T  A  Iconify

DestroyFunc MoveOrResizeWindow
AddToFunc MoveOrResizeWindow
+	I	Resize 680p 560p
+	I	Move 15 10

DestroyFunc HideAndLower
AddToFunc HideAndLower
+	I	WindowShade True
+	I	Lower

DestroyFunc ShadeAndRaise
AddToFunc ShadeAndRaise
+	I	Raise
+	I	WindowShade False


DestroyFunc FuncFvwmMenuDirectory
AddToFunc FuncFvwmMenuDirectory
+ I	PipeRead 'fvwm-menu-directory --dir "$0" \
	-a -l -o 6 \
	--title "%*-20p" --exec-file "^${execapp:-xmms}"'

AddToMenu SomeMenu MissingSubmenuFunction FuncFvwmMenuDirectory
+   "Music" Popup "$[HOME]/music"


DestroyFunc SuperL_ActionTodoSomething
AddToFunc SuperL_ActionTodoSomething
+	I	Mouse 1 W C Destroy
+	I	Key H     A   A   All (CurrentPage !iconic !FvwmButtons) \
				  Iconify
+	I	Key M     A   A	  Menu CrazyEnglish
+	I	Key B     A   A	  All ( CurrentPage "FvwmButtons" ) RaiseLower
#+	I	Key L     A   A	  Current Lower
+	I	Key KP_0  A   A   Current Pick MoveToPage 0 0
+	I	Key KP_1  A   A   Current Pick MoveToPage 0 1 
+	I	Key KP_2  A   A   Current Pick MoveToPage 0 2
+	I	Key KP_3  A   A   Current Pick MoveToPage 0 3
+	I	Key Escape        A   A   Quit
+	I	Key KP_Delete     A   CM  Exec /sbin/halt -p 
+	I	Schedule  500    Mouse 1 W C -
+	I	Schedule  500    Key H     A  A  -
+	I	Schedule  500    Key M     A  A  -
+	I	Schedule  500    Key B     A  A  -
#+	I	Schedule  500    Key L     A  A  -
+	I	Schedule  500    Key KP_0  A  A  -
+	I	Schedule  500    Key KP_1  A  A  -
+	I	Schedule  500    Key KP_2  A  A  - 
+	I	Schedule  500    Key KP_3  A  A  -
+	I	Schedule  500    Key Escape    A  A  -
+	I	Schedule  500    Key KP_Delete A  CM - 

DestroyFunc SuperR_X_ActionRunningCommand
AddToFunc SuperR_X_ActionRunningCommand
+	I	Key E  A  N  Exec emacs
+	I	Key V  A  N  Exec vim -g
+	I	Key D  A  N  Exec rc dict
+	I	Key B  A  N  Exec rc azureus
+	I	Key P  A  N  Exec rc playmusic -x
#+	I	Key M  A  N  Exec xmms
+	I	Schedule 1000 Key E  A  N  - 
+	I	Schedule 1000 Key V  A  N  - 
+	I	Schedule 1000 Key D  A  N  - 
+	I	Schedule 1000 Key B  A  N  - 
+	I	Schedule 1000 Key P  A  N  - 
#+	I	Schedule 1000 Key M  A  N  - 


#------------------ Modules -------------------------------------

DestroyModuleConfig FvwmAnimate: *
*FvwmAnimate: Color white
#*FvwmAnimate: Effect frame
*FvwmAnimate: Delay 3
*FvwmAnimate: Iterations 30
*FvwmAnimate: Width 3


#		Virtual Page
#          +-----+-----+-----+-----+
# 	   |  0  |  1  |  2  |  3  |
#          +-----+-----+-----+-----+
DeskTopSize 1x4 
DestroyModuleConfig FvwmPager: *
*FvwmPager: Fore dodgerblue
*FvwmPager: Back #c3c3c3
*FvwmPager: Hilight #c3c3c3
*FvwmPager: Font None


# FvwmIdent is an xwininfo replacement.
DestroyModuleConfig FvwmIdent: *
*FvwmIdent: Back MidnightBlue
*FvwmIdent: Fore white
*FvwmIdent: Font "xft:sans:pixelsize=14:minspace=True"


#		FvwmButtons (FvwmButtonsLaunch:48x1)
#	 1  4   4   4   4   4   4   4   4  2      12      1  (48)
#	+-+---+---+---+---+---+---+---+---+--+---+---+---+-+
#	| |   |   |   |   |   |   |   |   |  | HH:MM:SS  | |
#	+-+---+---+---+---+---+---+---+---+--+---+---+---+-+
DestroyModuleConfig FvwmButtonsLaunch: *
*FvwmButtonsLaunch: Geometry 512x45+250-0
*FvwmButtonsLaunch: Fore #c3c3c3
*FvwmButtonsLaunch: Back #c3c3c3
*FvwmButtonsLaunch: Font None
*FvwmButtonsLaunch: (Frame 3 Container(Rows 1 Columns 48 )) 
*FvwmButtonsLaunch: ( 1x1 frame 0 )
*FvwmButtonsLaunch: ( 4x1 frame 0 Icon 32x32/rox.png, \
	ActiveIcon 24x24/rox.png \
	Action(Mouse 1) 'Exec rc rox', \
	Action(Mouse 3) 'Exec rcc rox')
*FvwmButtonsLaunch: ( 4x1 frame 0 Icon 32x32/rxvt.png, \
	ActiveIcon 24x24/rxvt.png \
	Action(Mouse 1)	'Exec rc urxvt')
*FvwmButtonsLaunch: ( 4x1 frame 0 Icon 32x32/firefox.png, \
	ActiveIcon 24x24/firefox.png \
	Action(Mouse 1) 'Exec rc firefox')
*FvwmButtonsLaunch: ( 4x1 frame 0 Icon 32x32/gvim.png, \
	ActiveIcon 24x24/gvim.png \
	Action(Mouse 1) 'Exec gvim', \
	Action(Mouse 3) 'Exec gvim $[HOME]/.fvwm/.fvwm2rc')
*FvwmButtonsLaunch: ( 4x1 frame 0 Icon 32x32/emacs.png, \
	ActiveIcon 24x24/emacs.png \
	Action(Mouse 1) 'Exec emacs')
*FvwmButtonsLaunch: ( 4x1 frame 0 Icon 32x32/gimp.png, \
	ActiveIcon 24x24/gimp.png \
	Action(Mouse 1) 'Exec rc gimp', \
	Action(Mouse 3) 'Exec rcc gimp')
*FvwmButtonsLaunch: ( 4x1 frame 0 Icon 32x32/gqview.png, \
	ActiveIcon 24x24/gqview.png \
	Action(Mouse 1)	'Exec rc gqview')
*FvwmButtonsLaunch: ( 4x1 frame 0 Icon 32x32/swrite.png, \
	ActiveIcon 24x24/swrite.png \
	Action(Mouse 1) 'Exec rc soffice')
*FvwmButtonsLaunch: ( 2x1 Frame 0 )
#*FvwmButtonsLaunch: ( 12x1 Frame 0 Swallow "TimeAndDateNormal" \
#	`FvwmScript $[HOME]/.fvwm/TimeAndDateNormal`)
*FvwmButtonsLaunch: ( 12x1 Frame 0 Swallow "xclock" `Exec xclock \
		-digital -update 1 -face 'Aguafont:size=21' \
		-strftime '%H:%M:%S'  -bg rgb:c3/c3/c3`)

