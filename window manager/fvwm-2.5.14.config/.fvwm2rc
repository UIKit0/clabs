#----------------------------------------------------------------
#								#
# FVWM F(?) Virtual Window Manager 2.5.14 Configuration		#
#		By ( mmx384@tom.com )				#
#								#
#----------------------------------------------------------------
#
# 修改颜色可对照：/usr/X11R6/lib/X11/rgb.txt
# 按键名称可参照：/usr/include/X11/keysymdef.h 
#
# 需进一步改善的功能:
# 	切换虚拟桌面时，在虚拟桌面上显示页号

#----------------------------------------------------------------
#

ImagePath $[HOME]/.fvwm/image

IgnoreModifiers L25
SnapAttraction 5
EdgeScroll 0 0
EdgeResistance 1000 0
EdgeThickness 1
ClickTime 200
HideGeometryWindow Always
MoveThreshold 5
OpaqueMoveSize 100
SnapGrid 1 1
#EwmhBaseStruts 0 0 0 0
#XORvalue 255


#-------------------- Style Setting -----------------------------

DefaultFont "-misc-simsun-medium-r-normal-*-*-160-*-*-p-*-iso10646-1"
#DefaultFont "shadow=0 0 xft:simsun:size=12:encoding=iso10646-1"

Style "*" ClickToFocus,MouseFocusClickRaises
Style "*" CenterPlacement
Style "*" MwmFunctions,MWMBorder,MWMDecor,NoPPosition
Style "*" DecorateTransient


#Style "*" Colorset 3, HilightColorset 4
Style "*" ForeColor black, BackColor dodgerblue2
Style "*" HilightFore white, HilightBack dodgerblue
Style "*" NoIconTitle
Style "*" BorderWidth 2, HandleWidth 3
Style "FvwmButtons" NoTitle,NoHandles,WindowListSkip, \
			BorderWidth 0,CirculateSkipIcon,CirculateSkip
Style "FvwmIdent" NoTitle,NoHandles,BorderWidth 0

#Style "*" NoIcon
#Style "Fvwm*" StaysOnTop,Sticky


MenuStyle "*" MWM
#MenuStyle "*" FVWM
MenuStyle "*" Hilight3Doff, PopupOffset +0 100, PopupDelay 150
MenuStyle "*" Foreground Black, Background White
MenuStyle "*" ActiveFore Red
MenuStyle "*" MenuFace HGradient 128 2 lightgrey 0 Gray 50 White


Style "*" Button 1, Button 2, Button 3, Button 4, Button 6
#Style "*" MWMButtons
TitleStyle Centered Height 20
#TitleStyle -- flat
#ButtonStyle All -- UseTitleStyle flat

ButtonStyle 1 Pixmap buttons/menu.png
ButtonStyle 2 Pixmap buttons/close.png
ButtonStyle 4 Pixmap buttons/maximize.png
ButtonStyle 6 Pixmap buttons/iconify.png
ButtonStyle 3 5 25x75@0 25x25@0 50x70@0 75x25@0 75x75@0
#ButtonStyle 3 7 15x25@0 15x75@0 35x75@4 35x25@0 55x70@0 75x25@0 75x75@0 


CursorStyle Root left_ptr
CursorStyle Default left_ptr
CursorStyle Title left_ptr
#CursorStyle Sys left_ptr
CursorStyle Menu left_ptr
CursorStyle resize fleur
CursorStyle stroke cross
CursorStyle select draped_box

#Style "Untitled" NoTitle
Style "Emacs"	Icon 48x48/emacs.png
Style "urxvt"	Icon 48x48/rxvt.png
Style "MPlayer" NoTitle,NoHandles,BorderWidth 0
Style "*vim" 	IconOverride, Icon 48x48/gvim.png
Style "GQview" 	IconOverride, Icon 48x48/gqview.png
Style "xclock" 	NoTitle,NoHandles,BorderWidth 0,StaysOnTop
Style "AcroRead" Icon 48x48/acroread.png,VariablePosition,VariableUSPosition
Style "*"	Icon 48x48/unknow.png
#Style "SWT"	Icon 48x48/azureus.png
#Style gvim EWMHMiniIconOverride,MiniIcon 16x16/gvim.png



DestroyMenu WindowOps
AddToMenu WindowOps
+	"MoveTo Page 0 0"	MoveToPage 0 0
+	"MoveTo Page 0 1"	MoveToPage 0 1
+	"MoveTo Page 0 2"	MoveToPage 0 2
+	"MoveTo Page 0 3"	MoveToPage 0 3
+	""			Nop
+	"Disable Close	"	Key F4 A A -
+	"Disable Super_L"	Key Super_L A A -
+	""			Nop
+	"Identify Window" 	Module FvwmIdent
+	"Stick"			Pick Stick
+	"Refresh"		Refresh
+	"Close Window"		Close
+	""			Nop
+	"Restart FVWM"		Restart fvwm


#--------------- Mouse & Key ------------------------------------

#CmdNameButton	Context	Modifiers Function
Mouse 	1 	R 	A 	Nop
Mouse 	3 	R 	A 	Nop
Mouse 	1 	I 	A 	Iconify
Mouse	1	T	A	Function RaiseOrMaximize
#Mouse	3	T	A	Iconify
Mouse 	1 	1 	A 	Menu WindowOps Nop
Mouse 	3 	1 	A 	Close
Mouse	1	3	A	Exec (status=`pgrep xmms2d`; \
				[ ${#status} -gt 6 ] &&	xmms2 next || xmms2 play)
Mouse 	3 	3 	A 	Exec ( status=`pgrep mlnet`; \
				[ -n ${status} ] && pkill mlnet || $HOME/bin/mlnet &)
Mouse 	1 	2 	A 	Close
Mouse 	1 	4 	A 	Maximize
Mouse 	3 	4 	A 	Function MoveOrResizeWindow
Mouse	1	6	A	Iconify
#Mouse	1	6	A	Thumbnail
Mouse 	4 	W 	A 	Current ("AcroRead") FakeKeypress \
				press Up \
				press Up 
Mouse 	5 	W 	A 	Current ("AcroRead") FakeKeypress \
				press Down \
				press Down 


#CmdNameKeyname	Context	Modifiers Function
#Key	Super_L	A	A	Menu RootMenu Nop
Key	F1	A	M	Module FvwmIdent
Key	Print	A	M	Exec import image$(date +%N).jpg 
Key	Left	A	CM	gotopage +0p -1p
Key	Right	A	CM	gotopage +0p +1p
Key	F4	A	M	Key F4 A A Close
Key 	F5 	A 	M 	Current ("ROX-Filer") Function refresh_misc
Key	X	A	4	Function SuperR_X_ActionRunningCommand
Key	Super_L	A	A	Function SuperL_ActionTodoSomething



#----------------- Function -------------------------------------

DestroyFunc InitFunction
AddToFunc InitFunction
+	I	Exec fcitx &
+	I	Exec fvwm-root $[FVWM_USERDIR]/image/wallpaper.png &

DestroyFunc StartFunction
AddToFunc StartFunction
#+	I	Module FvwmAuto 320 Raise Nop
+ 	I	Module FvwmButtons FvwmButtonsLaunch
+	I	Module FvwmAnimate

DestroyFunc ExitFunction
AddToFunc ExitFunction
+ 	I	KillModule FvwmButtons
+	I	KillModule FvwmAnimate
#+	I	Close All


DestroyFunc RaiseOrMaximize
AddToFunc RaiseOrMaximize
+ "Click" 	Raise
+ "Motion" 	Raise
+ "Motion" 	Move
+ "DoubleClick" Raise
+ "DoubleClick" Maximize

DestroyFunc MoveOrResizeWindow
AddToFunc MoveOrResizeWindow
+	I	Resize 680p 560p
+	I	Move 15 10

DestroyFunc refresh_misc
AddToFunc refresh_misc
+	I	exec (ls /mnt/misc/{cd,u0,u1} 2>&1 >/dev/null)

#DestroyFunc HideAndLower
#AddToFunc HideAndLower
#+	I	WindowShade True
#+	I	Lower

#DestroyFunc ShadeAndRaise
#AddToFunc ShadeAndRaise
#+	I	Raise
#+	I	WindowShade False


#DestroyFunc FuncFvwmMenuDirectory
#AddToFunc FuncFvwmMenuDirectory
#+ I	PipeRead 'fvwm-menu-directory --dir "$0" \
#	--order 5 -l \
#	--title "%*-20p" --exec-file "^${execapp:-xmms}"'

#AddToMenu MenuMusic MissingSubmenuFunction FuncFvwmMenuDirectory
#+   "Music" Popup "$[HOME]/music"


DestroyFunc SuperL_ActionTodoSomething
AddToFunc SuperL_ActionTodoSomething
+	I	Mouse 1 W C Destroy
+	I	Key H     A   A   All (CurrentPage !iconic !FvwmButtons) \
				  Iconify
+	I	Key B     A   A	  All ( CurrentPage "FvwmButtons" ) RaiseLower
+	I	Key KP_7  A   A   exec (xmms2 stop)
+	I	Key KP_9  A   A   exec (pkill mplayer)
+	I	Key KP_5  A   A   exec (xmms2 toggleplay)
+	I	Key KP_4  A   A   exec (xmms2 prev)
+	I	Key KP_6  A   A   exec (xmms2 next) 
+	I	Key KP_8  A   A   exec (xmms2 play)
+	I	Key KP_2  A   A   exec (xmms2 shuffle) 
+	I	Key KP_1  A   A   exec (xmms2 volume -5)
+	I	Key KP_3  A   A   exec (xmms2 volume +5) 
+	I	Key Escape        A   A   Quit
+	I	Schedule  500    Mouse 1 W C -
+	I	Schedule  500    Key H     A  A  -
+	I	Schedule  500    Key B     A  A  -
+	I	Schedule  500    Key KP_7  A  A  -
+	I	Schedule  500    Key KP_9  A  A  -
+	I	Schedule  500    Key KP_5  A  A  -
+	I	Schedule  500    Key KP_4  A  A  -
+	I	Schedule  500    Key KP_6  A  A  - 
+	I	Schedule  500    Key KP_8  A  A  -
+	I	Schedule  500    Key KP_2  A  A  -
+	I	Schedule  1000   Key KP_1  A  A  -
+	I	Schedule  1000   Key KP_3  A  A  -
+	I	Schedule  500    Key Escape    A  A  -

DestroyFunc SuperR_X_ActionRunningCommand
AddToFunc SuperR_X_ActionRunningCommand
+	I	Key Q  A  N  nop 
+	I	Key W  A  N  Exec rc firefox
+	I	Key E  A  N  Exec emacs
+	I	Key R  A  N  nop
+	I	Key T  A  N  Exec rc rxvt
+	I	Key A  A  N  Exec rc pidgin
+	I	Key S  A  N  Exec scilab
+	I	Key D  A  N  Exec rc dict
+	I	Key F  A  N  Exec rox
+	I	Key G  A  N  Exec gimp
+	I	Key Z  A  N  nop
+	I	Key X  A  N  nop
+	I	Key C  A  N  Exec xcalc &
+	I	Key V  A  N  Exec vim -g
+	I	Key B  A  N  Exec rc azureus
+	I	Schedule 1000 Key Q  A  N  - 
+	I	Schedule 1000 Key W  A  N  - 
+	I	Schedule 1000 Key E  A  N  - 
+	I	Schedule 1000 Key R  A  N  - 
+	I	Schedule 1000 Key T  A  N  - 
+	I	Schedule 1000 Key A  A  N  - 
+	I	Schedule 1000 Key S  A  N  - 
+	I	Schedule 1000 Key D  A  N  - 
+	I	Schedule 1000 Key F  A  N  - 
+	I	Schedule 1000 Key G  A  N  - 
+	I	Schedule 1000 Key Z  A  N  - 
+	I	Schedule 1000 Key X  A  N  - 
+	I	Schedule 1000 Key C  A  N  - 
+	I	Schedule 1000 Key V  A  N  - 
+	I	Schedule 1000 Key B  A  N  - 


#------------------ Modules -------------------------------------

DestroyModuleConfig FvwmAnimate: *
*FvwmAnimate: Color white
#*FvwmAnimate: Effect frame
*FvwmAnimate: Delay 2
*FvwmAnimate: Iterations 30
*FvwmAnimate: Width 3


#		Virtual Page
#          +-----+-----+-----+-----+
# 	   |  0  |  1  |  2  |  3  |
#          +-----+-----+-----+-----+
DeskTopSize 1x4 
DestroyModuleConfig FvwmPager: *
*FvwmPager: Fore dodgerblue
*FvwmPager: Back #c3c3c3
*FvwmPager: Hilight #c3c3c3
*FvwmPager: Font None


# FvwmIdent is an xwininfo replacement.
DestroyModuleConfig FvwmIdent: *
*FvwmIdent: Back MidnightBlue
*FvwmIdent: Fore white
*FvwmIdent: Font "xft:sans:pixelsize=14:minspace=True"


#		FvwmButtons (FvwmButtonsLaunch:48x1)
#	 1  4   4   4   4   4   4   4   4  2      12      1  (48)
#	+-+---+---+---+---+---+---+---+---+--+---+---+---+-+
#	| |   |   |   |   |   |   |   |   |  | HH:MM:SS  | |
#	+-+---+---+---+---+---+---+---+---+--+---+---+---+-+
DestroyModuleConfig FvwmButtonsLaunch: *
*FvwmButtonsLaunch: Geometry 512x45+250-0
*FvwmButtonsLaunch: Fore #c3c3c3
*FvwmButtonsLaunch: Back #c3c3c3
*FvwmButtonsLaunch: Font None
*FvwmButtonsLaunch: (Frame 3 Container(Rows 1 Columns 48 )) 
*FvwmButtonsLaunch: ( 1x1 frame 0 )
*FvwmButtonsLaunch: ( 4x1 frame 0 Icon 32x32/rox.png, \
	ActiveIcon 24x24/rox.png \
	Action(Mouse 1) 'Exec rox')
*FvwmButtonsLaunch: ( 4x1 frame 0 Icon 32x32/rxvt.png, \
	ActiveIcon 24x24/rxvt.png \
	Action(Mouse 1)	'Exec rc rxvt')
*FvwmButtonsLaunch: ( 4x1 frame 0 Icon 32x32/firefox.png, \
	ActiveIcon 24x24/firefox.png \
	Action(Mouse 1) 'Exec rc firefox', \
	Action(Mouse 3) 'Exec opera &')
*FvwmButtonsLaunch: ( 4x1 frame 0 Icon 32x32/gvim.png, \
	ActiveIcon 24x24/gvim.png \
	Action(Mouse 1) 'Exec gvim', \
	Action(Mouse 3) 'Exec gvim $[HOME]/.fvwm/.fvwm2rc')
*FvwmButtonsLaunch: ( 4x1 frame 0 Icon 32x32/emacs.png, \
	ActiveIcon 24x24/emacs.png \
	Action(Mouse 1) 'Exec emacs')
*FvwmButtonsLaunch: ( 4x1 frame 0 Icon 32x32/gimp.png, \
	ActiveIcon 24x24/gimp.png \
	Action(Mouse 1) 'Exec rc gimp', \
	Action(Mouse 3) 'Exec rcc gimp')
*FvwmButtonsLaunch: ( 4x1 frame 0 Icon 32x32/gqview.png, \
	ActiveIcon 24x24/gqview.png \
	Action(Mouse 1)	'Exec rc gqview')
*FvwmButtonsLaunch: ( 4x1 frame 0 Icon 32x32/swrite.png, \
	ActiveIcon 24x24/swrite.png \
	Action(Mouse 1) 'Exec rc soffice', \
	Action(Mouse 3) 'Exec rc soffice ~mmx/tmp/six/six.ods')
*FvwmButtonsLaunch: ( 2x1 Frame 0 )
#*FvwmButtonsLaunch: ( 12x1 Frame 0 Swallow "TimeAndDateNormal" \
#	`FvwmScript $[HOME]/.fvwm/TimeAndDateNormal`)
*FvwmButtonsLaunch: ( 12x1 Frame 0 Swallow "xclock" `Exec xclock \
		-digital -update 1 -face 'Aguafont:size=21' \
		-strftime '%H:%M:%S'  -bg rgb:c3/c3/c3`)

