深入计算机
======================================================================
也许你曾好奇，计算机是如何计算 1+1 的，它是如何从内存取出指令，又是如何判断取出的是哪条指令。本教程将带你解开计算机内部的秘密。

约定
------------------------------------------------------------
本教程中使用如下符号：

	&	且
	|	或
	!	非
	^	异或

本教程使用`KTechLab`作电路设计与模拟软件。

从简单的位加法开始
------------------------------------------------------------
[bit_adder]: res/image/bit_adder.png?raw=true "Bit Adder"
[bit_adder_circuit]: res/circuit/bit_adder.circuit?raw=true

首先我们必须要明确的是，电子计算机只能作逻辑运算。那么，用纯粹的逻辑运算要如何实现位加法呢？
我们先来看一下下面这张表：

	A	B	X	|	R	C
	------------+--------
	0	0	0	|	0	0
	0	0	1	|	1	0
	0	1	0	|	1	0
	0	1	1	|	0	1
	1	0	0	|	1	0
	1	0	1	|	0	1
	1	1	0	|	0	1
	1	1	1	|	1	1

这张表演示了加法运算的所有可能。其中，A、B 表示两个加数，X表示前一次运算的进位，R表示本次计算的结果，C表示本次计算的进位。

认真观察可以发现，R与A、B、X之间的关系：只要A、B、X中1的个数是奇数，R就是1，反之就是0。从这可以想到一种逻辑运算：异或，即 R = A^B^X。（A^B = (!A & B)|(A & !B)，即相同为0，不同为1）。

进位C要如何计算就比较难想到了。笔者经过反复试验发现，原来 C=(A&B) | (B&X) | (A&X)（也许有更好的方法，这就留给读者自己思考了）。

好了，有了这些基础，我们就可以来制作电路了。

![][bit_adder]<br>[下载(KTechLab Circuit)][bit_adder_circuit]
